{"version":3,"sources":["components/InputTodo.js","components/EditTodo.js","components/ListTodos.js","App.js","index.js"],"names":["InputTodo","useState","description","setDescription","onSubmitForm","e","a","preventDefault","body","fetch","method","headers","JSON","stringify","window","location","console","error","message","className","onSubmit","type","value","onChange","target","EditTodo","todo","updateDescription","todo_id","data-toggle","data-target","id","tabIndex","role","aria-labelledby","aria-hidden","onClick","data-dismiss","aria-label","ListTodos","todos","setTodos","deleteTodo","filter","getTodos","response","json","jsonData","useEffect","map","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0ee2c24a.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nconst InputTodo = () => {\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  const onSubmitForm = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const body = { description };\r\n      const response = await fetch(\"/todos\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(body),\r\n      });\r\n      window.location = \"/\";\r\n    } catch (error) {\r\n      console.error(error.message);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <h1 className=\"text-center mt-5\">Pern ToDo List</h1>\r\n      <form className=\"d-flex mt-5\" onSubmit={onSubmitForm}>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n        />\r\n        <button className=\"btn btn-success\">Add</button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default InputTodo;\r\n","import React, { useState } from \"react\";\r\n\r\nconst EditTodo = ({ todo }) => {\r\n  const [description, setDescription] = useState(todo.description);\r\n\r\n  const updateDescription = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const body = { description };\r\n      //proxy\r\n\r\n\r\n      const response = await fetch(\r\n        `/todos/${todo.todo_id}`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: { \"Content-type\": \"application/json\" },\r\n          body: JSON.stringify(body),\r\n        }\r\n      );\r\n      window.location = \"/\";\r\n    } catch (error) {\r\n      console.error(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-primary\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${todo.todo_id}`}\r\n      >\r\n        Edit\r\n      </button>\r\n\r\n      <div\r\n        className=\"modal fade\"\r\n        id={`id${todo.todo_id}`}\r\n        tabIndex=\"-1\"\r\n        role=\"dialog\"\r\n        aria-labelledby=\"exampleModalLabel\"\r\n        aria-hidden=\"true\"\r\n        onClick={() => setDescription(todo.description)}\r\n      >\r\n        <div className=\"modal-dialog\" role=\"document\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\">\r\n                Edit toDo\r\n              </h5>\r\n              <button\r\n                type=\"button\"\r\n                className=\"close\"\r\n                data-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n                onClick={() => setDescription(todo.description)}\r\n              >\r\n                <span aria-hidden=\"true\">&times;</span>\r\n              </button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <input\r\n                className=\"form-control\"\r\n                value={description}\r\n                onChange={(e) => setDescription(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary\"\r\n                onClick={(e) => updateDescription(e)}\r\n              >\r\n                Save changes\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary\"\r\n                data-dismiss=\"modal\"\r\n                onClick={() => setDescription(todo.description)}\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditTodo;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport EditTodo from \"./EditTodo\";\r\n\r\nconst ListTodos = () => {\r\n  const [todos, setTodos] = useState([]);\r\n\r\n  //delete function\r\n  const deleteTodo = async id => {\r\n    try {\r\n      await fetch(`/todos/${id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n\r\n      setTodos(todos.filter(todo => todo.todo_id !== id))\r\n    } catch (error) {\r\n      console.error(error.message);\r\n    }\r\n  };\r\n\r\n  const getTodos = async () => {\r\n    try {\r\n      const response = await fetch(\"/todos\");\r\n      const jsonData = await response.json();\r\n\r\n      setTodos(jsonData);\r\n    } catch (error) {\r\n      console.error(error.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getTodos();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <br/>\r\n      <div>\r\n        <table className=\"table mt-5 text-center\">\r\n          <thead>\r\n            <tr>\r\n              <th>Description</th>\r\n              <th>Edit</th>\r\n              <th>Delete</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {todos.map((e) => (\r\n              <tr key={e.todo_id}>\r\n                <td>{e.description}</td>\r\n                <td><EditTodo todo={e} /></td>\r\n                <td>\r\n                  <button\r\n                    className=\"btn btn-danger\"\r\n                    onClick={() => deleteTodo(e.todo_id)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ListTodos;\r\n","import React from \"react\";\nimport \"./App.css\";\n//components\nimport InputTodo from \"./components/InputTodo\";\nimport EditTodo from \"./components/EditTodo\";\nimport ListTodos from \"./components/ListTodos\";\n\nfunction App() {\n  return (\n    <>\n      <div className=\"container\">\n        <InputTodo />\n        \n        <ListTodos />\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}